<!doctype html>
<html lang=en >
<head>
<title>Save Canvas to PNG</title>
<meta charset=utf-8 />
<meta name=author content='Theo Armour' />
</head>
<body>
<script src=http://jaanga.github.io/libs/fs/Blob.js /></script>
<script src=http://jaanga.github.io/libs/fs/canvas-toBlob.js /></script>
<script src=http://jaanga.github.io/libs/fs/FileSaver.js /></script>
<script>
	var canvas;

	init();

	function init() {
		document.body.style.cssText = ' font: bold 12pt monospace; ';

		var info = document.body.appendChild( document.createElement( 'div' ) );
		info.innerHTML = '<a href="" ><h1>' + document.title + '</h1></a>' +
			'<p><button onclick=saveIt() >Save</button></p>';

		canvas = document.body.appendChild( document.createElement( 'canvas' ) );
		canvas.width = canvas.height = 256;
		context = canvas.getContext("2d");
		context.fillStyle =  '#ffff00';
		context.fillRect( 0, 0, 256, 246 );
	}

	function saveIt() {
		canvas.toBlob( function( blob ) {
			saveAs( blob, "very-yellow.png" );
		});
		console.log( 'saving ' );
	}

</script>
</body>
</html>